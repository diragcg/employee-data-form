<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Division wise plan & proposal of ground truth survey for kharif 2025 under FASAL Project</title>
    <!-- Include Supabase JS Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Include Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #800000; /* Maroon Red */
            --secondary-color: #4d0000; /* Darker Maroon */
            --accent-color: #ff9999; /* Light Red */
            --text-color: #333333; /* Dark Gray for text */
            --light-color: #ffffff; /* White */
            --gray-color: #f4f4f4; /* Light Gray */
            --border-color: #dddddd; /* Border color */
            --shadow-color: rgba(0, 0, 0, 0.2); /* Shadow color */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            background-color: #f0f0f0;
            color: var(--text-color);
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--light-color);
            padding: 20px;
            text-align: center;
            border-radius: 10px;
            box-shadow: 0 8px 16px var(--shadow-color);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0));
            z-index: 0;
            transform: skewY(-2deg);
        }

        .header h1, .header p {
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 15px;
        }

        .logo {
            height: 80px;
            margin-right: 15px;
        }

        .card {
            background-color: var(--light-color);
            border-radius: 10px;
            box-shadow: 0 10px 20px var(--shadow-color);
            margin-bottom: 30px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px var(--shadow-color);
        }

        .card-header {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: var(--light-color);
            padding: 15px 20px;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            font-weight: 600;
            font-size: 18px;
            display: flex;
            align-items: center;
        }

        .card-header i {
            margin-right: 10px;
        }

        .card-body {
            padding: 25px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-color);
        }

        .required::after {
            content: " *";
            color: var(--primary-color);
            font-weight: bold;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s, box-shadow 0.3s;
            font-family: 'Poppins', sans-serif;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(128, 0, 0, 0.1);
        }

        small {
            display: block;
            margin-top: 5px;
            color: #777;
            font-size: 12px;
        }

        button {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: var(--light-color);
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        button:hover {
            background: linear-gradient(to right, var(--secondary-color), var(--primary-color));
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }

        button i {
            margin-right: 8px;
        }

        .tab {
            overflow: hidden;
            background-color: var(--light-color);
            border-radius: 10px;
            box-shadow: 0 5px 15px var(--shadow-color);
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .tab button {
            flex: 1;
            background-color: transparent;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 15px 20px;
            transition: 0.3s;
            font-size: 16px;
            font-weight: 500;
            color: var(--text-color);
            border-bottom: 3px solid transparent;
            border-radius: 0;
            box-shadow: none;
            min-width: 150px;
        }

        .tab button:hover {
            background-color: rgba(128, 0, 0, 0.05);
            transform: none;
        }

        .tab button.active {
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
            background-color: rgba(128, 0, 0, 0.1);
        }

        .tabcontent {
            display: none;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from {opacity: 0;}
            to {opacity: 1;}
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            background-color: var(--light-color);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        table th, table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        table th {
            background-color: var(--primary-color);
            color: var(--light-color);
            font-weight: 500;
            text-transform: uppercase;
            font-size: 14px;
            letter-spacing: 0.5px;
        }

        table tr:nth-child(even) {
            background-color: rgba(0, 0, 0, 0.02);
        }

        table tr:hover {
            background-color: rgba(128, 0, 0, 0.05);
        }

        table input {
            padding: 8px 10px;
            font-size: 14px;
        }

        .add-row-btn {
            background-color: #333;
            margin-bottom: 20px;
        }

        .add-row-btn:hover {
            background-color: #000;
        }

        .success-message, .error-message {
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            display: none;
            animation: slideIn 0.5s;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .success-message {
            background-color: rgba(76, 175, 80, 0.1);
            border-left: 4px solid #4CAF50;
            color: #2e7d32;
        }

        .error-message {
            background-color: rgba(244, 67, 54, 0.1);
            border-left: 4px solid #F44336;
            color: #d32f2f;
        }

        .action-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            margin-top: 20px;
        }

        .reset-btn {
            background: linear-gradient(to right, #333, #000);
        }

        .reset-btn:hover {
            background: linear-gradient(to right, #000, #333);
        }

        .loading-spinner {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: var(--primary-color);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .form-row {
            display: flex;
            flex-wrap: wrap;
            margin: 0 -10px;
        }

        .form-col {
            flex: 1;
            padding: 0 10px;
            min-width: 250px;
        }

        /* Login form styles */
        .login-container {
            max-width: 500px;
            margin: 50px auto;
            padding: 30px;
            background-color: var(--light-color);
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .login-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .login-header h2 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .login-form {
            margin-top: 20px;
        }

        .remember-me {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .remember-me input {
            width: auto;
            margin-right: 10px;
        }

        .login-footer {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
            color: #777;
        }

        .login-footer a {
            color: var(--primary-color);
            text-decoration: none;
        }

        .login-footer a:hover {
            text-decoration: underline;
        }

        .user-info {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            margin-bottom: 20px;
            padding: 10px 15px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 30px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .user-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
            object-fit: cover;
            border: 2px solid var(--primary-color);
        }

        .user-info .user-details {
            line-height: 1.2;
        }

        .user-info .user-name {
            font-weight: 600;
            color: var(--primary-color);
        }

        .user-info .user-role {
            font-size: 12px;
            color: #777;
        }

        .logout-btn {
            background: transparent;
            color: var(--primary-color);
            box-shadow: none;
            padding: 5px 10px;
            font-size: 14px;
            margin-left: 10px;
        }

        .logout-btn:hover {
            background: rgba(128, 0, 0, 0.1);
            transform: none;
            box-shadow: none;
        }

        #loginPage, #mainContent {
            display: none;
        }

        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 50px;
            color: #777;
            font-size: 14px;
            border-top: 1px solid #ddd;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 22px;
            }
            
            .header p {
                font-size: 14px;
            }
            
            .logo {
                height: 60px;
            }
            
            .card-body {
                padding: 15px;
            }
            
            .tab {
                flex-direction: column;
            }
            
            .tab button {
                width: 100%;
                border-bottom: 1px solid #ddd;
                border-right: none;
                padding: 10px;
            }
            
            .tab button:last-child {
                border-bottom: none;
            }
            
            .form-col {
                flex: 100%;
                margin-bottom: 10px;
            }
            
            table {
                display: block;
                overflow-x: auto;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            button {
                width: 100%;
                margin-bottom: 10px;
            }
            
            .user-info {
                flex-direction: column;
                text-align: center;
                padding: 15px;
            }
            
            .user-info img {
                margin-right: 0;
                margin-bottom: 10px;
            }
            
            .logout-btn {
                margin-top: 10px;
                margin-left: 0;
            }
        }

        /* Table responsive design */
        @media (max-width: 992px) {
            .responsive-table {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            .responsive-table table {
                min-width: 800px;
            }
        }

        /* Print styles */
        @media print {
            body {
                background-color: white;
                font-size: 12pt;
            }
            
            .container {
                width: 100%;
                max-width: none;
                margin: 0;
                padding: 0;
            }
            
            .header {
                background: none;
                color: black;
                box-shadow: none;
                padding: 10px 0;
            }
            
            .header h1 {
                color: black;
                text-shadow: none;
            }
            
            .card {
                box-shadow: none;
                border: 1px solid #ddd;
                margin-bottom: 20px;
            }
            
            .card-header {
                background: none;
                color: black;
                border-bottom: 1px solid #ddd;
            }
            
            .tab, .action-buttons, .user-info, .footer, button {
                display: none !important;
            }
            
            .tabcontent {
                display: block !important;
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage">
        <div class="container">
            <div class="login-container">
                <div class="login-header">
                    <div class="logo-container">
                        <img src="https://cdn.pixabay.com/photo/2017/01/31/23/42/animal-husbandry-2028077_960_720.png" alt="Agriculture Logo" class="logo">
                    </div>
                    <h2>संचालनालय कृषि</h2>
                    <p>छत्तीसगढ़</p>
                </div>
                
                <div class="card-body">
                    <div id="loginErrorMessage" class="error-message">
                        <i class="fas fa-exclamation-circle"></i> Invalid username or password. Please try again.
                    </div>
                    
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="username" class="required">Username</label>
                            <input type="text" id="username" name="username" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="password" class="required">Password</label>
                            <input type="password" id="password" name="password" required>
                        </div>
                        
                        <div class="remember-me">
                            <input type="checkbox" id="remember" name="remember">
                            <label for="remember">Remember me</label>
                        </div>
                        
                        <button type="submit"><i class="fas fa-sign-in-alt"></i> Login</button>
                    </form>
                </div>
                
                <div class="login-footer">
                    <p>For technical support: <a href="mailto:support@agri.cg.gov.in">support@agri.cg.gov.in</a></p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Main Content Page -->
    <div id="mainContent">
        <div class="container">
            <div class="header">
                <div class="logo-container">
                    <img src="https://cdn.pixabay.com/photo/2017/01/31/23/42/animal-husbandry-2028077_960_720.png" alt="Agriculture Logo" class="logo">
                </div>
                <h1>Division wise plan & proposal of ground truth survey for kharif 2025 under FASAL Project</h1>
                <p>निदेशालय कृषि, छत्तीसगढ़</p>
            </div>
            
            <div class="user-info">
                <img src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png" alt="User Avatar" id="userAvatar">
                <div class="user-details">
                    <div class="user-name" id="userName">User Name</div>
                    <div class="user-role" id="userRole">User Role</div>
                </div>
                <button class="logout-btn" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</button>
            </div>

            <div id="successMessage" class="success-message">
                <i class="fas fa-check-circle"></i> डेटा सफलतापूर्वक सहेजा गया!
            </div>
            <div id="errorMessage" class="error-message">
                <i class="fas fa-exclamation-circle"></i> एक त्रुटि हुई। कृपया पुनः प्रयास करें।
            </div>

            <div class="tab">
                <button class="tablinks active" onclick="openTab(event, 'Module1')">
                    <i class="fas fa-user"></i> अधिकारी जानकारी
                </button>
                <button class="tablinks" onclick="openTab(event, 'Module2')">
                    <i class="fas fa-map-marked-alt"></i> Ground Truth Survey
                </button>
                <button class="tablinks" onclick="openTab(event, 'Module3')">
                    <i class="fas fa-seedling"></i> Crop Assessment
                </button>
                <button class="tablinks" onclick="openTab(event, 'Module4')">
                    <i class="fas fa-chalkboard-teacher"></i> प्रशिक्षण
                </button>
            </div>

            <!-- Module 1: Officer Information Form -->
            <div id="Module1" class="tabcontent" style="display: block;">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-user-edit"></i> अधिकारी व्यक्तिगत जानकारी फॉर्म
                    </div>
                    <div class="card-body">
                        <form id="personalInfoForm">
                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="name" class="required">अधिकारी/कर्मचारी का नाम</label>
                                        <input type="text" id="name" name="name" required>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="designation" class="required">पदनाम</label>
                                        <select id="designation" name="designation" required>
                                            <option value="">पदनाम चुनें</option>
                                            <option value="R.A.EO">R.A.EO</option>
                                            <option value="A.D.O">A.D.O</option>
                                            <option value="S.D.A.O">S.D.A.O</option>
                                            <option value="A.D.A">A.D.A</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="division" class="required">संभाग</label>
                                        <select id="division" name="division" required onchange="populateDistricts()">
                                            <option value="">संभाग चुनें</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="district" class="required">जिला</label>
                                        <select id="district" name="district" required onchange="populateBlocks()">
                                            <option value="">जिला चुनें</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="block" class="required">विकासखंड</label>
                                        <select id="block" name="block" required>
                                            <option value="">पहले जिला चुनें</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="team" class="required">दल क्रमांक</label>
                                        <input type="number" id="team" name="team" min="1" required>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="mobile" class="required">मोबाइल नंबर</label>
                                        <input type="tel" id="mobile" name="mobile" pattern="[0-9]{10}" required>
                                        <small>10 अंकों का मोबाइल नंबर दर्ज करें</small>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="email">ईमेल (वैकल्पिक)</label>
                                        <input type="email" id="email" name="email">
                                    </div>
                                </div>
                            </div>

                            <div class="action-buttons">
                                <button type="reset" class="reset-btn"><i class="fas fa-redo"></i> रीसेट</button>
                                <button type="submit"><i class="fas fa-save"></i> जमा करें</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Module 2: Ground Truth Survey Form -->
            <div id="Module2" class="tabcontent">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-map-marked-alt"></i> Ground Truth Survey प्रस्ताव
                    </div>
                    <div class="card-body">
                        <form id="groundTruthForm">
                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="gts_division" class="required">संभाग का नाम</label>
                                        <select id="gts_division" name="gts_division" required>
                                            <option value="">संभाग चुनें</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="gts_team" class="required">दल क्रमांक</label>
                                        <input type="number" id="gts_team" name="gts_team" min="1" required>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="gts_officers" class="required">दल में संबंधित अधिकारियों का नाम</label>
                                        <input type="text" id="gts_officers" name="gts_officers" required>
                                        <small>अधिकारियों के नाम कॉमा से अलग करें</small>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="gts_date" class="required">सर्वे दिनांक</label>
                                        <input type="date" id="gts_date" name="gts_date" required>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="gts_total_surveys" class="required">कुल सर्वे</label>
                                        <input type="number" id="gts_total_surveys" name="gts_total_surveys" min="1" required>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="gts_expenditure" class="required">व्यय राशि (रूपये में)</label>
                                        <input type="number" id="gts_expenditure" name="gts_expenditure" min="0" step="0.01" required>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="gts_amount_demanded" class="required">कुल राशि की मांग</label>
                                        <input type="number" id="gts_amount_demanded" name="gts_amount_demanded" min="0" step="0.01" required>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="gts_crop_surveys" class="required">फसल सर्वे कुल संख्या</label>
                                        <input type="number" id="gts_crop_surveys" name="gts_crop_surveys" min="0" required>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="gts_completed_surveys" class="required">सम्पादित संख्या</label>
                                        <input type="number" id="gts_completed_surveys" name="gts_completed_surveys" min="0" required>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="gts_remarks">रिमार्क</label>
                                        <textarea id="gts_remarks" name="gts_remarks" rows="3"></textarea>
                                    </div>
                                </div>
                            </div>

                            <div class="action-buttons">
                                <button type="reset" class="reset-btn"><i class="fas fa-redo"></i> रीसेट</button>
                                <button type="submit"><i class="fas fa-save"></i> जमा करें</button>
                            </div>
                        </form>
                        <div class="loading-spinner" id="groundTruthSpinner">
                            <div class="spinner"></div>
                            <p>डेटा सहेज रहा है...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Module 3: Crop Assessment Form -->
            <div id="Module3" class="tabcontent">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-seedling"></i> Kharif 2025 Crop Assessment
                    </div>
                    <div class="card-body">
                        <form id="cropAssessmentForm">
                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="ca_division" class="required">संभाग का नाम</label>
                                        <select id="ca_division" name="ca_division" required>
                                            <option value="">संभाग चुनें</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="ca_team" class="required">दल क्रमांक</label>
                                        <input type="number" id="ca_team" name="ca_team" min="1" required>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="ca_officers" class="required">दल में संबंधित अधिकारियों का नाम</label>
                                        <input type="text" id="ca_officers" name="ca_officers" required>
                                        <small>अधिकारियों के नाम कॉमा से अलग करें</small>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="ca_district" class="required">जिला का नाम</label>
                                        <select id="ca_district" name="ca_district" required>
                                            <option value="">जिला चुनें</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="ca_block" class="required">विकासखण्ड का नाम</label>
                                        <select id="ca_block" name="ca_block" required>
                                            <option value="">विकासखण्ड चुनें</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="ca_village" class="required">ग्राम का नाम</label>
                                        <input type="text" id="ca_village" name="ca_village" required>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="ca_crop" class="required">फसल धान सिंचित/असिंचित</label>
                                        <select id="ca_crop" name="ca_crop" required>
                                            <option value="">फसल प्रकार चुनें</option>
                                            <option value="सिंचित">सिंचित</option>
                                            <option value="असिंचित">असिंचित</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="ca_total_surveys" class="required">फसल सर्वे कुल संख्या</label>
                                        <input type="number" id="ca_total_surveys" name="ca_total_surveys" min="0" required>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="ca_completed_surveys" class="required">सम्पादित संख्या</label>
                                        <input type="number" id="ca_completed_surveys" name="ca_completed_surveys" min="0" required>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="ca_remarks">रिमार्क</label>
                                        <textarea id="ca_remarks" name="ca_remarks" rows="3"></textarea>
                                    </div>
                                </div>
                            </div>

                            <div class="action-buttons">
                                <button type="reset" class="reset-btn"><i class="fas fa-redo"></i> रीसेट</button>
                                <button type="submit"><i class="fas fa-save"></i> जमा करें</button>
                            </div>
                        </form>
                        <div class="loading-spinner" id="cropAssessmentSpinner">
                            <div class="spinner"></div>
                            <p>डेटा सहेज रहा है...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Module 4: Training Information Form -->
            <div id="Module4" class="tabcontent">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-chalkboard-teacher"></i> Ground Truth Survey प्रशिक्षण जानकारी
                    </div>
                    <div class="card-body">
                        <form id="trainingForm">
                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="tr_division" class="required">संभाग</label>
                                        <select id="tr_division" name="tr_division" required onchange="populateTrainingDistricts()">
                                            <option value="">संभाग चुनें</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="tr_district" class="required">जिला</label>
                                        <select id="tr_district" name="tr_district" required>
                                            <option value="">जिला चुनें</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="tr_name" class="required">अधिकारी का नाम</label>
                                        <input type="text" id="tr_name" name="tr_name" required>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="tr_designation" class="required">पदनाम</label>
                                        <select id="tr_designation" name="tr_designation" required>
                                            <option value="">पदनाम चुनें</option>
                                            <option value="R.A.EO">R.A.EO</option>
                                            <option value="A.D.O">A.D.O</option>
                                            <option value="S.D.A.O">S.D.A.O</option>
                                            <option value="A.D.A">A.D.A</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="tr_mobile" class="required">मोबाइल नंबर</label>
                                        <input type="tel" id="tr_mobile" name="tr_mobile" pattern="[0-9]{10}" required>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="tr_email">ईमेल (वैकल्पिक)</label>
                                        <input type="email" id="tr_email" name="tr_email">
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="tr_date" class="required">प्रशिक्षण दिनांक</label>
                                        <input type="date" id="tr_date" name="tr_date" required>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <div class="form-group">
                                        <label for="tr_status" class="required">प्रशिक्षण स्थिति</label>
                                        <select id="tr_status" name="tr_status" required>
                                            <option value="">स्थिति चुनें</option>
                                            <option value="Pending">प्रतीक्षारत</option>
                                            <option value="Scheduled">निर्धारित</option>
                                            <option value="Completed">पूर्ण</option>
                                            <option value="Absent">अनुपस्थित</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="tr_remarks">टिप्पणी</label>
                                <textarea id="tr_remarks" name="tr_remarks" rows="3"></textarea>
                            </div>

                            <div class="action-buttons">
                                <button type="reset" class="reset-btn"><i class="fas fa-redo"></i> रीसेट</button>
                                <button type="submit"><i class="fas fa-save"></i> जमा करें</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="footer">
                <p>© 2025 निदेशालय कृषि, छत्तीसगढ़ | FASAL Project Ground Truth Survey</p>
            </div>
        </div>
    </div>

    <script>
        // Initialize Supabase client
        const supabaseUrl = 'https://txjbfqrbbtvzlxpeegkv.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR4amJmcXJiYnR2emx4cGVlZ2t2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMxMTU2NTQsImV4cCI6MjA2ODY5MTY1NH0.sE5UbwEOSnd9ED-k_Ix5OfdZbf7dmwlHZSjQQrEAyCo';
        let supabaseClient;

        // Division and District data mapping
        const divisionData = {
            1: "रायपुर संभाग",
            2: "दुर्ग संभाग",
            3: "बिलासपुर संभाग",
            4: "सरगुजा संभाग",
            5: "बस्तर संभाग",
            6: "प्रदेश"
        };

        const districtData = {
            1: { name: "रायपुर", division_id: 1 },
            2: { name: "गरियाबंद", division_id: 1 },
            3: { name: "बलौदाबाजार", division_id: 1 },
            4: { name: "महासमुंद", division_id: 1 },
            5: { name: "धमतरी", division_id: 1 },
            6: { name: "दुर्ग", division_id: 2 },
            7: { name: "बालोद", division_id: 2 },
            8: { name: "बेमेतरा", division_id: 2 },
            9: { name: "कबीरधाम", division_id: 2 },
            10: { name: "राजनांदगांव", division_id: 2 },
            11: { name: "खैरागढ़", division_id: 2 },
            12: { name: "मोहला", division_id: 2 },
            13: { name: "बिलासपुर", division_id: 3 },
            14: { name: "गौरेला-पेण्ड्रा-मरवाही", division_id: 3 },
            15: { name: "मुंगेली", division_id: 3 },
            16: { name: "जांजगीर", division_id: 3 },
            17: { name: "सक्ती", division_id: 3 },
            18: { name: "कोरबा", division_id: 3 },
            19: { name: "रायगढ़", division_id: 3 },
            20: { name: "सारंगढ़-बिलाईगढ़", division_id: 3 },
            21: { name: "सरगुजा", division_id: 4 },
            22: { name: "सूरजपुर", division_id: 4 },
            23: { name: "बलरामपुर", division_id: 4 },
            24: { name: "कोरिया", division_id: 4 },
            25: { name: "मनेन्द्रगढ़-चिरमिरी", division_id: 4 },
            26: { name: "जशपुर", division_id: 4 },
            27: { name: "जगदलपुर", division_id: 5 },
            28: { name: "कोण्डागांव", division_id: 5 },
            29: { name: "कांकेर", division_id: 5 },
            30: { name: "दंतेवाड़ा", division_id: 5 },
            31: { name: "सुकमा", division_id: 5 },
            32: { name: "बीजापुर", division_id: 5 },
            33: { name: "नारायणपुर", division_id: 5 }
        };

        // Block data (sample - would need to be expanded with actual data)
        const blockData = {
            1: ["अभनपुर", "आरंग", "धरसींवा", "तिल्दा"],
            2: ["गरियाबंद", "छुरा", "देवभोग", "मैनपुर", "फिंगेश्वर"],
            3: ["बलौदाबाजार", "भाटापारा", "कसडोल", "पलारी", "सिमगा"],
            4: ["महासमुंद", "बागबाहरा", "पिथौरा", "बसना", "सरायपाली"],
            5: ["धमतरी", "नगरी", "कुरुद", "मगरलोड"],
            6: ["दुर्ग", "धमधा", "पाटन"],
            7: ["बालोद", "गुंडरदेही", "डौंडी", "डौंडीलोहारा", "गुरुर"],
            8: ["बेमेतरा", "बेरला", "साजा", "नवागढ़"],
            9: ["कबीरधाम", "बोडला", "कवर्धा", "पण्डरिया", "एस.लोहारा"],
            10: ["राजनांदगांव", "छुरिया", "डोंगरगढ़", "डोंगरगाँव"],
            11: ["खैरागढ़", "छुईखदान"],
            12: ["मोहला", "अम्बागढ़ चौकी", "मानपुर"],
            13: ["बिलासपुर", "कोटा", "बेलहा", "मस्तूरी", "तखतपुर"],
            14: ["मरवाही", "गौरेला-1", "गौरेला-2"],
            15: ["मुंगेली", "लोरमी", "पथरिया"],
            16: ["जांजगीर", "अकलतरा", "बलौदा", "बमहनीडीह", "नवागढ़", "पामगढ़"],
            17: ["सक्ती", "मलखरौदा", "डभरा", "जयजयपुर"],
            18: ["कोरबा", "करतला", "कटघोरा", "पाली", "पोड़ी उपरोड़ा"],
            19: ["रायगढ़", "धरमजयगढ़", "घरघोड़ा", "खरसिया", "लैलूंगा", "पुसौर", "तमनार"],
            20: ["बारमकेला", "सारंगढ़", "बिलाईगढ़"],
            21: ["अंबिकापुर", "बतौली", "लखनपुर", "लुंड्रा", "मैनपाट", "सीतापुर", "उदयपुर"],
            22: ["सूरजपुर", "भैयाथान", "ओडगी", "प्रतापपुर", "प्रेमनगर", "रामानुजगंज"],
            23: ["बलरामपुर", "वाड्रफनगर", "कुसमी", "राजपुर", "रामचंद्रपुर", "शंकरगढ़"],
            24: ["बैकुंठपुर", "खड़गवाना", "सोनहत"],
            25: ["भरतपुर", "खड़गवाना", "मनेंद्रगढ़"],
            26: ["बगीचा", "दुलदुला", "फरसाबहार", "जशपुर", "कुनकुरी", "मनोरा", "पत्थलगांव"],
            27: ["बकावंड", "बस्तनार", "बस्तर", "दरभा", "जगदलपुर", "लोहंडीगुड़ा", "तोकापाल"],
            28: ["बड़ेराजपुर", "केशकाल", "कोंडागांव", "माकड़ी", "फरसगांव"],
            29: ["अंतागढ़", "भानुप्रतापपुर", "चारामा", "दुर्गूकोंडल", "कांकेर", "नरहरपुर", "कोयलीबेड़ा"],
            30: ["कुवाकोंडा", "दंतेवाड़ा", "गीदम", "कटेकल्याण"],
            31: ["छिंदगढ़", "सुकमा", "कोंटा"],
            32: ["भैरमगढ़", "भोपालपट्नम", "बीजापुर", "उसूर"],
            33: ["नारायणपुर", "ओरछा"]
        };

        // Document ready function
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // Initialize Supabase client
                supabaseClient = supabase.createClient(supabaseUrl, supabaseKey);
                console.log('Supabase client initialized successfully');
                
                // For demo purposes, show main content directly
                // In production, you would check authentication first
                document.getElementById('mainContent').style.display = 'block';
                
                // Populate all division dropdowns
                populateDivisionDropdowns();
                
                // Set up event listeners for form submissions
                setupFormEventListeners();
                
                // Set up user info (demo data)
                document.getElementById('userName').textContent = 'Demo User';
                document.getElementById('userRole').textContent = 'Agriculture Officer';
                
            } catch (error) {
                console.error('Error initializing app:', error);
                showError('एप्लिकेशन लोड करने में त्रुटि हुई। कृपया पुनः प्रयास करें।');
            }
        });

        // Function to populate all division dropdowns
        function populateDivisionDropdowns() {
            const divisionDropdowns = ['division', 'gts_division', 'ca_division', 'tr_division'];
            
            divisionDropdowns.forEach(dropdownId => {
                const dropdown = document.getElementById(dropdownId);
                if (dropdown) {
                    dropdown.innerHTML = '<option value="">संभाग चुनें</option>';
                    
                    Object.entries(divisionData).forEach(([id, name]) => {
                        const option = document.createElement('option');
                        option.value = id;
                        option.textContent = name;
                        dropdown.appendChild(option);
                    });
                }
            });
        }

        // Function to populate districts based on selected division
        function populateDistricts() {
            const divisionId = document.getElementById('division').value;
            const districtDropdown = document.getElementById('district');
            
            districtDropdown.innerHTML = '<option value="">जिला चुनें</option>';
            
            if (!divisionId) return;
            
            // Filter districts by division_id
            Object.entries(districtData)
                .filter(([_, district]) => district.division_id == divisionId)
                .sort((a, b) => a[1].name.localeCompare(b[1].name))
                .forEach(([id, district]) => {
                    const option = document.createElement('option');
                    option.value = id;
                    option.textContent = district.name;
                    districtDropdown.appendChild(option);
                });
        }

        // Function to populate blocks based on selected district
        function populateBlocks() {
            const districtId = document.getElementById('district').value;
            const blockDropdown = document.getElementById('block');
            
            blockDropdown.innerHTML = '<option value="">विकासखंड चुनें</option>';
            
            if (!districtId || !blockData[districtId]) return;
            
            blockData[districtId].forEach(blockName => {
                const option = document.createElement('option');
                option.value = blockName;
                option.textContent = blockName;
                blockDropdown.appendChild(option);
            });
        }

        // Function to populate training districts
        function populateTrainingDistricts() {
            const divisionId = document.getElementById('tr_division').value;
            const districtDropdown = document.getElementById('tr_district');
            
            districtDropdown.innerHTML = '<option value="">जिला चुनें</option>';
            
            if (!divisionId) return;
            
            // Filter districts by division_id
            Object.entries(districtData)
                .filter(([_, district]) => district.division_id == divisionId)
                .sort((a, b) => a[1].name.localeCompare(b[1].name))
                .forEach(([id, district]) => {
                    const option = document.createElement('option');
                    option.value = id;
                    option.textContent = district.name;
                    districtDropdown.appendChild(option);
                });
        }

        // Event listener for division change in crop assessment form
        document.getElementById('ca_division').addEventListener('change', function() {
            const divisionId = this.value;
            const districtDropdown = document.getElementById('ca_district');
            
            districtDropdown.innerHTML = '<option value="">जिला चुनें</option>';
            
            if (!divisionId) return;
            
            // Filter districts by division_id
            Object.entries(districtData)
                .filter(([_, district]) => district.division_id == divisionId)
                .sort((a, b) => a[1].name.localeCompare(b[1].name))
                .forEach(([id, district]) => {
                    const option = document.createElement('option');
                    option.value = id;
                    option.textContent = district.name;
                    districtDropdown.appendChild(option);
                });
        });

        // Event listener for district change in crop assessment form
        document.getElementById('ca_district').addEventListener('change', function() {
            const districtId = this.value;
            const blockDropdown = document.getElementById('ca_block');
            
            blockDropdown.innerHTML = '<option value="">विकासखंड चुनें</option>';
            
            if (!districtId || !blockData[districtId]) return;
            
            blockData[districtId].forEach(blockName => {
                const option = document.createElement('option');
                option.value = blockName;
                option.textContent = blockName;
                blockDropdown.appendChild(option);
            });
        });

        // Tab functionality
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        // Show success message
        function showSuccess(message) {
            const successElement = document.getElementById('successMessage');
            successElement.textContent = message || 'डेटा सफलतापूर्वक सहेजा गया!';
            successElement.style.display = 'block';
            
            // Scroll to message
            successElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            setTimeout(() => {
                successElement.style.display = 'none';
            }, 3000);
        }

        // Show error message
        function showError(message) {
            const errorElement = document.getElementById('errorMessage');
            errorElement.textContent = message || 'एक त्रुटि हुई। कृपया पुनः प्रयास करें।';
            errorElement.style.display = 'block';
            
            // Scroll to message
            errorElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            setTimeout(() => {
                errorElement.style.display = 'none';
            }, 5000);
        }

        // Set up form event listeners
        function setupFormEventListeners() {
            // Login form
            document.getElementById('loginForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                
                try {
                    // In a real application, you would verify credentials with Supabase Auth
                    // For demo, we'll just check for non-empty values
                    if (username && password) {
                        document.getElementById('loginPage').style.display = 'none';
                        document.getElementById('mainContent').style.display = 'block';
                        
                        // Set user info
                        document.getElementById('userName').textContent = username;
                        document.getElementById('userRole').textContent = 'Agriculture Officer';
                    } else {
                        document.getElementById('loginErrorMessage').style.display = 'block';
                    }
                } catch (error) {
                    console.error('Login error:', error);
                    document.getElementById('loginErrorMessage').style.display = 'block';
                }
            });

            // Logout button
            document.getElementById('logoutBtn').addEventListener('click', function() {
                // In a real application, you would sign out from Supabase Auth
                document.getElementById('mainContent').style.display = 'none';
                document.getElementById('loginPage').style.display = 'block';
                document.getElementById('loginForm').reset();
            });

            // Personal Info Form
            document.getElementById('personalInfoForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const formData = {
                    name: document.getElementById('name').value,
                    designation: document.getElementById('designation').value,
                    division_id: document.getElementById('division').value,
                    division_name: document.getElementById('division').options[document.getElementById('division').selectedIndex].text,
                    district_id: document.getElementById('district').value,
                    district_name: document.getElementById('district').options[document.getElementById('district').selectedIndex].text,
                    block_name: document.getElementById('block').value,
                    team_number: document.getElementById('team').value,
                    mobile_number: document.getElementById('mobile').value,
                    email: document.getElementById('email').value || null,
                    created_at: new Date().toISOString()
                };
                
                try {
                    // Insert data into Supabase
                    const { data, error } = await supabaseClient
                        .from('officers_training')
                        .insert([formData]);
                    
                    if (error) throw error;
                    
                    showSuccess('अधिकारी की जानकारी सफलतापूर्वक सहेजी गई!');
                    this.reset();
                    
                } catch (error) {
                    console.error('Error submitting form:', error);
                    showError('डेटा सहेजने में त्रुटि हुई। कृपया पुनः प्रयास करें।');
                }
            });

            // Ground Truth Survey Form
            document.getElementById('groundTruthForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Show loading spinner
                document.getElementById('groundTruthSpinner').style.display = 'block';
                
                const formData = {
                    division_id: document.getElementById('gts_division').value,
                    division_name: document.getElementById('gts_division').options[document.getElementById('gts_division').selectedIndex].text,
                    team_number: document.getElementById('gts_team').value,
                    officer_names: document.getElementById('gts_officers').value,
                    survey_date: document.getElementById('gts_date').value,
                    total_surveys: document.getElementById('gts_total_surveys').value,
                    expenditure_amount: document.getElementById('gts_expenditure').value,
                    total_amount_demanded: document.getElementById('gts_amount_demanded').value,
                    total_crop_surveys: document.getElementById('gts_crop_surveys').value,
                    completed_surveys: document.getElementById('gts_completed_surveys').value,
                    remarks: document.getElementById('gts_remarks').value || null,
                    created_at: new Date().toISOString()
                };
                
                try {
                    // Insert data into Supabase
                    const { data, error } = await supabaseClient
                        .from('ground_truth_survey')
                        .insert([formData]);
                    
                    if (error) throw error;
                    
                    // Hide loading spinner
                    document.getElementById('groundTruthSpinner').style.display = 'none';
                    
                    showSuccess('Ground Truth Survey डेटा सफलतापूर्वक सहेजा गया!');
                    this.reset();
                    
                } catch (error) {
                    console.error('Error submitting form:', error);
                    
                    // Hide loading spinner
                    document.getElementById('groundTruthSpinner').style.display = 'none';
                    
                    showError('डेटा सहेजने में त्रुटि हुई। कृपया पुनः प्रयास करें।');
                }
            });

            // Crop Assessment Form
            document.getElementById('cropAssessmentForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Show loading spinner
                document.getElementById('cropAssessmentSpinner').style.display = 'block';
                
                const formData = {
                    division_id: document.getElementById('ca_division').value,
                    division_name: document.getElementById('ca_division').options[document.getElementById('ca_division').selectedIndex].text,
                    team_number: document.getElementById('ca_team').value,
                    officer_names: document.getElementById('ca_officers').value,
                    district_id: document.getElementById('ca_district').value,
                    district_name: document.getElementById('ca_district').options[document.getElementById('ca_district').selectedIndex].text,
                    block_name: document.getElementById('ca_block').value,
                    village_name: document.getElementById('ca_village').value,
                    crop_irrigation_status: document.getElementById('ca_crop').value,
                    total_crop_surveys: document.getElementById('ca_total_surveys').value,
                    completed_surveys: document.getElementById('ca_completed_surveys').value,
                    remarks: document.getElementById('ca_remarks').value || null,
                    assessment_date: new Date().toISOString().split('T')[0],
                    created_at: new Date().toISOString()
                };
                
                try {
                    // Insert data into Supabase
                    const { data, error } = await supabaseClient
                        .from('crop_assessment')
                        .insert([formData]);
                    
                    if (error) throw error;
                    
                    // Hide loading spinner
                    document.getElementById('cropAssessmentSpinner').style.display = 'none';
                    
                    showSuccess('Crop Assessment डेटा सफलतापूर्वक सहेजा गया!');
                    this.reset();
                    
                } catch (error) {
                    console.error('Error submitting form:', error);
                    
                    // Hide loading spinner
                    document.getElementById('cropAssessmentSpinner').style.display = 'none';
                    
                    showError('डेटा सहेजने में त्रुटि हुई। कृपया पुनः प्रयास करें।');
                }
            });

            // Training Form
            document.getElementById('trainingForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const formData = {
                    division_id: document.getElementById('tr_division').value,
                    division_name: document.getElementById('tr_division').options[document.getElementById('tr_division').selectedIndex].text,
                    district_id: document.getElementById('tr_district').value,
                    district_name: document.getElementById('tr_district').options[document.getElementById('tr_district').selectedIndex].text,
                    officer_name: document.getElementById('tr_name').value,
                    designation: document.getElementById('tr_designation').value,
                    mobile_number: document.getElementById('tr_mobile').value,
                    email: document.getElementById('tr_email').value || null,
                    training_date: document.getElementById('tr_date').value,
                    training_status: document.getElementById('tr_status').value,
                    remarks: document.getElementById('tr_remarks').value || null,
                    created_at: new Date().toISOString()
                };
                
                try {
                    // Insert data into Supabase
                    const { data, error } = await supabaseClient
                        .from('officers_training')
                        .insert([formData]);
                    
                    if (error) throw error;
                    
                    showSuccess('प्रशिक्षण जानकारी सफलतापूर्वक सहेजी गई!');
                    this.reset();
                    
                } catch (error) {
                    console.error('Error submitting form:', error);
                    showError('डेटा सहेजने में त्रुटि हुई। कृपया पुनः प्रयास करें।');
                }
            });
        }

        // Initially show login page
        window.onload = function() {
            // For development purposes, directly show main content
            // In production, you would show the login page first
            // document.getElementById('loginPage').style.display = 'block';
            document.getElementById('mainContent').style.display = 'block';
        };
    </script>
</body>
</html>


